<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>iOS 16 设备如何越狱</title>
    <url>/posts/b3a0121c.html</url>
    <content><![CDATA[<p><img src="/posts/b3a0121c/image.png"></p>
<span id="more"></span>

<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><blockquote>
<ul>
<li>工具: <a href="https://palera.in/">Palera1n</a> (A8 ~ A11)</li>
<li>设备: iPhone 8 (A11) 、iOS 16.7.10</li>
</ul>
</blockquote>
<h2 id="越狱"><a href="#越狱" class="headerlink" title="越狱"></a>越狱</h2><blockquote>
<ul>
<li>无根越狱: palera1n -l (rootless)</li>
<li>有根越狱: palera1n -f (rootful)</li>
</ul>
</blockquote>
<p>这里我们使用有根越狱: <strong>palera1n -f (rootful)</strong> 的方式</p>
<h3 id="创建有根越狱-fakeFS"><a href="#创建有根越狱-fakeFS" class="headerlink" title="创建有根越狱 fakeFS"></a>创建有根越狱 fakeFS</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ palera1n -f -c</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># palera1n: v2.0.2 </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ========  Made by  =======</span></span><br><span class="line"><span class="comment"># Made by: Nick Chan, Ploosh, Khcrysalis, Mineek, staturnz, kok3shidoll, HAHALOSAH </span></span><br><span class="line"><span class="comment"># ======== Thanks to =======</span></span><br><span class="line"><span class="comment"># Thanks to: llsc12, Nebula, Lrdsnow, nikias (libimobiledevice),</span></span><br><span class="line"><span class="comment"># checkra1n team (Siguza, axi0mx, littlelailo et al.),</span></span><br><span class="line"><span class="comment"># Procursus Team (Hayden Seay, Cameron Katri, Keto et.al)</span></span><br><span class="line"><span class="comment"># ==========================</span></span><br><span class="line"></span><br><span class="line"> - [12/18/24 14:11:14] &lt;Info&gt;: Waiting <span class="keyword">for</span> devices</span><br><span class="line"> - [12/18/24 14:11:15] &lt;Info&gt;: Entering recovery mode</span><br><span class="line"> - [12/18/24 14:11:25] &lt;Info&gt;: Press Enter when ready <span class="keyword">for</span> DFU mode</span><br><span class="line"></span><br><span class="line">Hold volume down + side button (0)</span><br><span class="line">Hold volume down button (3)</span><br><span class="line"> - [12/18/24 14:11:39] &lt;Info&gt;: Device entered DFU mode successfully</span><br><span class="line"> - [12/18/24 14:11:40] &lt;Info&gt;: About to execute checkra1n</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Checkra1n 0.1337.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Proudly written in nano</span></span><br><span class="line"><span class="comment"># (c) 2019-2023 Kim Jong Cracks</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#========  Made by  =======</span></span><br><span class="line"><span class="comment"># argp, axi0mx, danyl931, jaywalker, kirb, littlelailo, nitoTV</span></span><br><span class="line"><span class="comment"># never_released, nullpixel, pimskeks, qwertyoruiop, sbingner, siguza</span></span><br><span class="line"><span class="comment">#======== Thanks to =======</span></span><br><span class="line"><span class="comment"># haifisch, jndok, jonseals, xerub, lilstevie, psychotea, sferrini</span></span><br><span class="line"><span class="comment"># Cellebrite (ih8sn0w, cjori, ronyrus et al.)</span></span><br><span class="line"><span class="comment">#==========================</span></span><br><span class="line"></span><br><span class="line"> - [12/18/24 14:11:40] &lt;Verbose&gt;: Starting thread <span class="keyword">for</span> Apple TV 4K Advanced board</span><br><span class="line"> - [12/18/24 14:11:40] &lt;Info&gt;: Waiting <span class="keyword">for</span> DFU mode devices</span><br><span class="line"> - [12/18/24 14:11:43] &lt;Verbose&gt;: DFU mode device found</span><br><span class="line"> - [12/18/24 14:11:43] &lt;Info&gt;: Checking <span class="keyword">if</span> device is ready</span><br><span class="line"> - [12/18/24 14:11:43] &lt;Verbose&gt;: Attempting to perform checkm8 on 8015 11</span><br><span class="line"> - [12/18/24 14:11:43] &lt;Info&gt;: Setting up the exploit</span><br><span class="line"> - [12/18/24 14:11:43] &lt;Verbose&gt;: == checkm8 setup stage ==</span><br><span class="line"> - [12/18/24 14:11:43] &lt;Verbose&gt;: Entered initial checkm8 state after 1 steps</span><br><span class="line"> - [12/18/24 14:11:44] &lt;Verbose&gt;: Stalled input endpoint after 3084 steps</span><br><span class="line"> - [12/18/24 14:11:45] &lt;Verbose&gt;: DFU mode device disconnected</span><br><span class="line"> - [12/18/24 14:11:45] &lt;Verbose&gt;: DFU mode device found</span><br><span class="line"> - [12/18/24 14:11:45] &lt;Verbose&gt;: == checkm8 trigger stage ==</span><br><span class="line"> - [12/18/24 14:11:45] &lt;Info&gt;: Checkmate!</span><br><span class="line"> - [12/18/24 14:11:45] &lt;Verbose&gt;: Device should now reconnect <span class="keyword">in</span> download mode</span><br><span class="line"> - [12/18/24 14:11:45] &lt;Verbose&gt;: DFU mode device disconnected</span><br><span class="line"> - [12/18/24 14:11:51] &lt;Info&gt;: Entered download mode</span><br><span class="line"> - [12/18/24 14:11:51] &lt;Verbose&gt;: Download mode device found</span><br><span class="line"> - [12/18/24 14:11:51] &lt;Info&gt;: Booting PongoOS...</span><br><span class="line"> - [12/18/24 14:11:53] &lt;Info&gt;: Found PongoOS USB Device</span><br><span class="line"> - [12/18/24 14:11:54] &lt;Info&gt;: Booting Kernel...</span><br><span class="line"> - [12/18/24 14:11:54] &lt;Info&gt;: Please <span class="built_in">wait</span> up to 10 minutes <span class="keyword">for</span> the fakefs to be created.</span><br><span class="line"> - [12/18/24 14:11:54] &lt;Info&gt;: Once the device reboots into recovery mode, run again without the -c (Create FakeFS) option to jailbreak.</span><br></pre></td></tr></table></figure>
<h3 id="有根越狱"><a href="#有根越狱" class="headerlink" title="有根越狱"></a>有根越狱</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ palera1n -f</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># palera1n: v2.0.2 </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ========  Made by  =======</span></span><br><span class="line"><span class="comment"># Made by: Nick Chan, Ploosh, Khcrysalis, Mineek, staturnz, kok3shidoll, HAHALOSAH </span></span><br><span class="line"><span class="comment"># ======== Thanks to =======</span></span><br><span class="line"><span class="comment"># Thanks to: llsc12, Nebula, Lrdsnow, nikias (libimobiledevice),</span></span><br><span class="line"><span class="comment"># checkra1n team (Siguza, axi0mx, littlelailo et al.),</span></span><br><span class="line"><span class="comment"># Procursus Team (Hayden Seay, Cameron Katri, Keto et.al)</span></span><br><span class="line"><span class="comment"># ==========================</span></span><br><span class="line"></span><br><span class="line"> - [12/18/24 14:19:18] &lt;Info&gt;: Waiting <span class="keyword">for</span> devices</span><br><span class="line"> - [12/18/24 14:19:19] &lt;Info&gt;: Press Enter when ready <span class="keyword">for</span> DFU mode</span><br><span class="line"></span><br><span class="line">Hold volume down + side button (0)</span><br><span class="line">Hold volume down button (3)</span><br><span class="line"> - [12/18/24 14:19:37] &lt;Info&gt;: Device entered DFU mode successfully</span><br><span class="line"> - [12/18/24 14:19:37] &lt;Info&gt;: About to execute checkra1n</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Checkra1n 0.1337.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Proudly written in nano</span></span><br><span class="line"><span class="comment"># (c) 2019-2023 Kim Jong Cracks</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#========  Made by  =======</span></span><br><span class="line"><span class="comment"># argp, axi0mx, danyl931, jaywalker, kirb, littlelailo, nitoTV</span></span><br><span class="line"><span class="comment"># never_released, nullpixel, pimskeks, qwertyoruiop, sbingner, siguza</span></span><br><span class="line"><span class="comment">#======== Thanks to =======</span></span><br><span class="line"><span class="comment"># haifisch, jndok, jonseals, xerub, lilstevie, psychotea, sferrini</span></span><br><span class="line"><span class="comment"># Cellebrite (ih8sn0w, cjori, ronyrus et al.)</span></span><br><span class="line"><span class="comment">#==========================</span></span><br><span class="line"></span><br><span class="line"> - [12/18/24 14:19:38] &lt;Verbose&gt;: Starting thread <span class="keyword">for</span> Apple TV 4K Advanced board</span><br><span class="line"> - [12/18/24 14:19:38] &lt;Info&gt;: Waiting <span class="keyword">for</span> DFU mode devices</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: DFU mode device found</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Info&gt;: Checking <span class="keyword">if</span> device is ready</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: Attempting to perform checkm8 on 8015 11</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Info&gt;: Setting up the exploit</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: == checkm8 setup stage ==</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: Entered initial checkm8 state after 1 steps</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: Stalled input endpoint after 439 steps</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: DFU mode device disconnected</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: DFU mode device found</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: == checkm8 trigger stage ==</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Info&gt;: Checkmate!</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: Device should now reconnect <span class="keyword">in</span> download mode</span><br><span class="line"> - [12/18/24 14:19:42] &lt;Verbose&gt;: DFU mode device disconnected</span><br><span class="line"> - [12/18/24 14:19:49] &lt;Info&gt;: Entered download mode</span><br><span class="line"> - [12/18/24 14:19:49] &lt;Verbose&gt;: Download mode device found</span><br><span class="line"> - [12/18/24 14:19:49] &lt;Info&gt;: Booting PongoOS...</span><br><span class="line"> - [12/18/24 14:19:51] &lt;Info&gt;: Found PongoOS USB Device</span><br><span class="line"> - [12/18/24 14:19:51] &lt;Info&gt;: Booting Kernel...</span><br></pre></td></tr></table></figure>
<h3 id="安装市场和必要插件"><a href="#安装市场和必要插件" class="headerlink" title="安装市场和必要插件"></a>安装市场和必要插件</h3><blockquote>
<ul>
<li>越狱完成后，成功进入系统会显示<strong>Palera1n的开机画面</strong></li>
<li>进入SpringBoard后，会有<strong>palera1n的图标</strong>加载出现(最后一个图标)</li>
</ul>
</blockquote>
<p><strong>满足以上两点，代表越狱流程顺利完成</strong></p>
<p><img src="/posts/b3a0121c/20241218_142212_274.png"></p>
<p>① 点击进入palera1n应用</p>
<p><img src="/posts/b3a0121c/20241218_142346_906.png"></p>
<p>② 点击Sileo,安装市场</p>
<p><img src="/posts/b3a0121c/20241218_142405_369.png"></p>
<p>③ 设置SSH, mobile默认密码</p>
<p><img src="/posts/b3a0121c/20241218_142414_585.png"></p>
<p>④ Sileo市场安装成功</p>
<p><img src="/posts/b3a0121c/20241218_142458_967.png"></p>
<p>⑤ 进入Sileo市场, 安装好以下几个基本必要的插件</p>
<blockquote>
<ul>
<li>openssh (SSH访问到iPhone设备内部)</li>
<li>Ellekit (所有运行插件的基础库)</li>
<li>Appsync (绕过app的证书签名校验)</li>
</ul>
</blockquote>
<h3 id="修改SSH密码"><a href="#修改SSH密码" class="headerlink" title="修改SSH密码"></a>修改SSH密码</h3><p>通过上面设置的mobile用户SSH进入手机内部</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh mobile@192.168.1.105</span><br><span class="line">(mobile@192.168.1.105) Password <span class="keyword">for</span> mobile@iPhone:</span><br></pre></td></tr></table></figure>

<p>修改root用户的密码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd root</span><br><span class="line"></span><br><span class="line">We trust you have received the usual lecture from the <span class="built_in">local</span> System</span><br><span class="line">Administrator. It usually boils down to these three things:</span><br><span class="line"></span><br><span class="line">    <span class="comment">#1) Respect the privacy of others.</span></span><br><span class="line">    <span class="comment">#2) Think before you type.</span></span><br><span class="line">    <span class="comment">#3) With great power comes great responsibility.</span></span><br><span class="line"></span><br><span class="line">For security reasons, the password you <span class="built_in">type</span> will not be visible.</span><br><span class="line"></span><br><span class="line">[meow] password <span class="keyword">for</span> mobile: </span><br><span class="line">Changing password <span class="keyword">for</span> root.</span><br><span class="line">Old Password:</span><br><span class="line">New Password:</span><br><span class="line">Retype New Password:</span><br><span class="line"></span><br><span class="line"><span class="comment">################################### WARNING ###################################</span></span><br><span class="line"><span class="comment"># This tool does not update the login keychain password.                      #</span></span><br><span class="line"><span class="comment"># To update it, run `security set-keychain-password` as the user in question, #</span></span><br><span class="line"><span class="comment"># or as root providing a path to such user&#x27;s login keychain.                  #</span></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>切换到root用户下，验证当前用户是否是root</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> su</span><br><span class="line">iPhone:/private/var/mobile root# <span class="built_in">whoami</span></span><br><span class="line">root</span><br><span class="line">iPhone:/private/var/mobile root# </span><br></pre></td></tr></table></figure>

<p>至此，我们在iPhone 8 (iOS 16)设备越狱环境基本上配置完成，可以完成后续的各种逆向和DIY等玩法了</p>
<p>越狱完成，如果我们想恢复到原始系统，那么就要移除越狱</p>
<h2 id="移除越狱"><a href="#移除越狱" class="headerlink" title="移除越狱"></a>移除越狱</h2><p>以Rootful有根越狱为例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ palera1n -f --force-revert</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># palera1n: v2.0.2 </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ========  Made by  =======</span></span><br><span class="line"><span class="comment"># Made by: Nick Chan, Ploosh, Khcrysalis, Mineek, staturnz, kok3shidoll, HAHALOSAH </span></span><br><span class="line"><span class="comment"># ======== Thanks to =======</span></span><br><span class="line"><span class="comment"># Thanks to: llsc12, Nebula, Lrdsnow, nikias (libimobiledevice),</span></span><br><span class="line"><span class="comment"># checkra1n team (Siguza, axi0mx, littlelailo et al.),</span></span><br><span class="line"><span class="comment"># Procursus Team (Hayden Seay, Cameron Katri, Keto et.al)</span></span><br><span class="line"><span class="comment"># ==========================</span></span><br><span class="line"></span><br><span class="line"> - [12/19/24 08:44:11] &lt;Info&gt;: Waiting <span class="keyword">for</span> devices</span><br><span class="line"> - [12/19/24 08:44:11] &lt;Info&gt;: Entering recovery mode</span><br><span class="line"> - [12/19/24 08:44:22] &lt;Info&gt;: Press Enter when ready <span class="keyword">for</span> DFU mode</span><br><span class="line"></span><br><span class="line">Hold volume down + side button (0)</span><br><span class="line">Hold volume down button (4)</span><br><span class="line"> - [12/19/24 08:44:37] &lt;Info&gt;: Device entered DFU mode successfully</span><br><span class="line"> - [12/19/24 08:44:37] &lt;Info&gt;: About to execute checkra1n</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Checkra1n 0.1337.3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Proudly written in nano</span></span><br><span class="line"><span class="comment"># (c) 2019-2023 Kim Jong Cracks</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#========  Made by  =======</span></span><br><span class="line"><span class="comment"># argp, axi0mx, danyl931, jaywalker, kirb, littlelailo, nitoTV</span></span><br><span class="line"><span class="comment"># never_released, nullpixel, pimskeks, qwertyoruiop, sbingner, siguza</span></span><br><span class="line"><span class="comment">#======== Thanks to =======</span></span><br><span class="line"><span class="comment"># haifisch, jndok, jonseals, xerub, lilstevie, psychotea, sferrini</span></span><br><span class="line"><span class="comment"># Cellebrite (ih8sn0w, cjori, ronyrus et al.)</span></span><br><span class="line"><span class="comment">#==========================</span></span><br><span class="line"></span><br><span class="line"> - [12/19/24 08:44:38] &lt;Verbose&gt;: Starting thread <span class="keyword">for</span> Apple TV 4K Advanced board</span><br><span class="line"> - [12/19/24 08:44:38] &lt;Info&gt;: Waiting <span class="keyword">for</span> DFU mode devices</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: DFU mode device found</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Info&gt;: Checking <span class="keyword">if</span> device is ready</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: Attempting to perform checkm8 on 8015 11</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Info&gt;: Setting up the exploit</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: == checkm8 setup stage ==</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: Entered initial checkm8 state after 1 steps</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: Stalled input endpoint after 606 steps</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: DFU mode device disconnected</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: DFU mode device found</span><br><span class="line"> - [12/19/24 08:44:42] &lt;Verbose&gt;: == checkm8 trigger stage ==</span><br><span class="line"> - [12/19/24 08:44:45] &lt;Info&gt;: Checkmate!</span><br><span class="line"> - [12/19/24 08:44:45] &lt;Verbose&gt;: Device should now reconnect <span class="keyword">in</span> download mode</span><br><span class="line"> - [12/19/24 08:44:45] &lt;Verbose&gt;: DFU mode device disconnected</span><br><span class="line"> - [12/19/24 08:44:51] &lt;Info&gt;: Entered download mode</span><br><span class="line"> - [12/19/24 08:44:51] &lt;Verbose&gt;: Download mode device found</span><br><span class="line"> - [12/19/24 08:44:51] &lt;Info&gt;: Booting PongoOS...</span><br><span class="line"> - [12/19/24 08:44:53] &lt;Info&gt;: Found PongoOS USB Device</span><br><span class="line"> - [12/19/24 08:44:53] &lt;Info&gt;: Booting Kernel...</span><br></pre></td></tr></table></figure>

<p>重启之后进入系统，会弹窗需要<strong>再次重启移除越狱</strong>或者<strong>进入恢复模式重新越狱</strong></p>
<p><img src="/posts/b3a0121c/20241219_084540_996.png"></p>
<p>这里我们点击<strong>Reboot now</strong>, 重启设备开机<strong>看不到palera1n的开机动画</strong>，进入系统也<strong>没有palera1n的桌面图标</strong></p>
<p>至此移除越狱成功</p>
<p><img src="/posts/b3a0121c/20241219_090151_523.png"></p>
<h3 id="相关文献"><a href="#相关文献" class="headerlink" title="相关文献"></a>相关文献</h3><p>本文简要的记录 iOS 16 越狱和移除越狱流程, 更多玩法或其他内容,请参阅以下文献</p>
<blockquote>
<ul>
<li><a href="https://ios.cfw.guide/get-started/">CFW iOS Guide</a></li>
<li><a href="https://dkxuanye.cn/">玄烨品果</a></li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>jailbreak</tag>
        <tag>iOS</tag>
        <tag>reverse</tag>
      </tags>
  </entry>
</search>
